import{Q as v,_ as p,v as t,x as r,N as i,y as c,L as a,M as d,R as m,S as h,J as y,t as n}from"./DK77-Agx.js";const f=v("/assets/media/1.png"),Q={data(){return{error:null,email:"",telephone:typeof window<"u"&&window.localStorage&&localStorage.getItem("currentTelephone"),name:typeof window<"u"&&window.localStorage&&localStorage.getItem("currentName"),questions:[{question:"Как вы контролируете качество обслуживания в вашем заведении?",answer:""},{question:"Используете ли вы сейчас тайных покупателей или другие методы проверки? Если да, что вам в них нравится или не нравится?",answer:""},{question:"Как часто вы получаете обратную связь от гостей? Какими способами (опросы, отзывы онлайн)?",answer:""},{question:"Какие основные проблемы в обслуживании вы замечали?",answer:""},{question:"Как вы оцениваете влияние качества обслуживания на возвращаемость клиентов?",answer:""},{question:"Были ли ситуации, когда плохое обслуживание привело к негативным отзывам или потере клиентов?",answer:""},{question:"Есть ли у вас стандарты сервиса или чек-листы для персонала? Если да, как вы контролируете их выполнение?",answer:""},{question:"Как вы проверяете, что сотрудники предлагают дополнительные услуги или товары?",answer:""},{question:"Насколько важно для вас понимать, как каждый сотрудник взаимодействует с клиентами?",answer:""},{question:"Готовы ли вы попробовать инструмент, который позволит получать объективные данные о работе персонала через тайных покупателей из числа ваших клиентов?",answer:""},{question:"Вас интересует внедрение CheckMate?",answer:""}],answer:"",currentQuestion:1,progress:0}},methods:{prevStep(){this.currentQuestion>1&&(this.currentQuestion--,this.progress-=10)},nextStep(){this.currentQuestion<this.questions.length&&this.questions[this.currentQuestion-1].answer.trim()!=""&&(this.currentQuestion++,this.progress+=10)},nextFinal(u){if(u=="no"||u=="yesTrue"){if(u=="yesTrue"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)){this.error="Введен неправильный Email";return}this.questions[10].answer=u=="no"?"Нет":"Да",fetch("/api/send.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,telephone:this.telephone,email:this.email===""?"Не указано":this.email,questions:this.questions})}).then(e=>e.json()).then(e=>{this.currentQuestion=100}).catch(e=>{console.error("Error:",e),alert("Ошибка при отправке данных.")}).finally(()=>{u=="yesTrue"&&this.$router.replace("/checkmate")})}else u=="yes"&&this.currentQuestion++}}},q={class:"box"},w={class:"container"},k={class:"div"},g={key:0},_={key:0},S={key:1},x={key:2},b={key:3},C={key:4,class:"question"},T={key:5},N={key:6},V={key:0,class:"error"},E={key:7,src:f,alt:"img"},F={class:"btns"},M={key:1,class:"success"},B={key:0,class:"progress"};function I(u,e,P,U,s,l){return n(),t("div",q,[r("div",w,[r("div",k,[e[10]||(e[10]=r("h1",null,"CheckMate",-1)),e[11]||(e[11]=r("h2",null,"Survey Website",-1)),s.currentQuestion!==100?(n(),t("div",g,[s.currentQuestion<=3?(n(),t("h4",_," О текущих методах контроля качества ")):i("",!0),s.currentQuestion>=4&&s.currentQuestion<=6?(n(),t("h4",S," О проблемах в сервисе и их влиянии на бизнес ")):i("",!0),s.currentQuestion>=7&&s.currentQuestion<=8?(n(),t("h4",x," О стандартах и регламентах ")):i("",!0),s.currentQuestion>=9&&s.currentQuestion<=10?(n(),t("h4",b," О потребности в решении ")):i("",!0),s.currentQuestion!=12?(n(),t("div",C,c(s.questions[s.currentQuestion-1].question),1)):i("",!0),s.currentQuestion<=10?(n(),t("label",T,[e[7]||(e[7]=r("span",null,"Напишите ответ на свой вопрос",-1)),a(r("textarea",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.questions[s.currentQuestion-1].answer=o)},null,512),[[d,s.questions[s.currentQuestion-1].answer]])])):i("",!0),s.currentQuestion==12?(n(),t("label",N,[e[8]||(e[8]=r("span",null,"Напишите свой Email",-1)),a(r("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=o=>s.email=o)},null,512),[[d,s.email]]),s.error?(n(),t("div",V,c(s.error),1)):i("",!0)])):i("",!0),s.currentQuestion==11?(n(),t("img",E)):i("",!0),r("div",F,[r("button",{class:"is-prev",onClick:e[2]||(e[2]=(...o)=>l.prevStep&&l.prevStep(...o))},"Назад"),s.currentQuestion<=10?(n(),t("button",{key:0,class:m(["is-next",s.questions[s.currentQuestion-1].answer.trim()!=""&&"is-active"]),onClick:e[3]||(e[3]=(...o)=>l.nextStep&&l.nextStep(...o))}," Вперед ",2)):i("",!0),s.currentQuestion==11?(n(),t("button",{key:1,class:"is-final",onClick:e[4]||(e[4]=o=>l.nextFinal("no"))}," Нет ")):i("",!0),s.currentQuestion==11?(n(),t("button",{key:2,class:"is-final",onClick:e[5]||(e[5]=o=>l.nextFinal("yes"))}," Да ")):i("",!0),s.currentQuestion==12?(n(),t("button",{key:3,class:"is-final",onClick:e[6]||(e[6]=o=>l.nextFinal("yesTrue"))}," Вступить в лист ожидания ")):i("",!0)])])):i("",!0),s.currentQuestion===100?(n(),t("div",M,e[9]||(e[9]=[r("p",null,"Спасибо за участие в опросе!",-1)]))):i("",!0)]),s.currentQuestion!==100?(n(),t("div",B,[r("div",{class:"is-active",style:h({width:s.progress+"%"})},c(s.progress)+"% ",5)])):i("",!0)]),e[12]||(e[12]=y('<div class="figures" data-v-4621fa2c><div class="circle is-1" data-v-4621fa2c></div><div class="circle is-2" data-v-4621fa2c></div><div class="circle is-3" data-v-4621fa2c></div><div class="square is-1" data-v-4621fa2c></div><div class="square is-2" data-v-4621fa2c></div><div class="square is-3" data-v-4621fa2c></div><div class="square is-4" data-v-4621fa2c></div></div>',1))])}const z=p(Q,[["render",I],["__scopeId","data-v-4621fa2c"]]);export{z as default};
